# Bili2Text é¡¹ç›®ç»“æ„é‡æ„æ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡

æœ¬æ¬¡é‡æ„çš„ä¸»è¦ç›®æ ‡æ˜¯å°†Bili2Texté¡¹ç›®ä»ä¸€ä¸ªç®€å•çš„è„šæœ¬é›†åˆè½¬å˜ä¸ºä¸€ä¸ªç»“æ„åŒ–ã€æ¨¡å—åŒ–çš„ä¸“ä¸šé¡¹ç›®ï¼Œæ”¯æŒWebåº”ç”¨å’ŒCLIå·¥å…·åŒé‡ä½¿ç”¨æ¨¡å¼ã€‚

## ğŸ“Š é‡æ„å‰åå¯¹æ¯”

### é‡æ„å‰çš„é—®é¢˜
- âŒ æ–‡ä»¶æ•£ä¹±ï¼Œç¼ºä¹æ¸…æ™°çš„ç»„ç»‡ç»“æ„
- âŒ åŠŸèƒ½è€¦åˆï¼Œéš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•
- âŒ é…ç½®æ··ä¹±ï¼Œå¤šä¸ªç¯å¢ƒæ–‡ä»¶å…±å­˜
- âŒ ç¼ºä¹ç»Ÿä¸€çš„ä¾èµ–ç®¡ç†
- âŒ æ–‡æ¡£ä¸å®Œæ•´ï¼Œç¼ºä¹æ ‡å‡†åŒ–

### é‡æ„åçš„æ”¹è¿›
- âœ… æ¸…æ™°çš„ç›®å½•ç»“æ„ï¼ŒåŠŸèƒ½åˆ†ç¦»
- âœ… æ¨¡å—åŒ–è®¾è®¡ï¼Œå…±äº«æ ¸å¿ƒåº“
- âœ… ç»Ÿä¸€çš„é…ç½®ç®¡ç†ç³»ç»Ÿ
- âœ… åˆ†å±‚çš„ä¾èµ–ç®¡ç†
- âœ… å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£

## ğŸ—ï¸ æ–°é¡¹ç›®æ¶æ„

```
Bili2Text/
â”œâ”€â”€ ğŸ¯ cli/                        # å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ ğŸ“± webapp/                     # Webåº”ç”¨
â”œâ”€â”€ ğŸ§  src/                        # å…±äº«æ ¸å¿ƒåº“
â”œâ”€â”€ ğŸ“‚ storage/                    # æ•°æ®å­˜å‚¨
â”œâ”€â”€ ğŸ³ deployment/                 # éƒ¨ç½²é…ç½®
â”œâ”€â”€ ğŸ“‹ config/                     # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ§ª tests/                      # æµ‹è¯•ä»£ç 
â”œâ”€â”€ ğŸ“š docs/                       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ’½ database/                   # æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ ğŸ“Š logs/                       # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ requirements/                  # ä¾èµ–ç®¡ç†
```

## ğŸ”§ æ ¸å¿ƒæ”¹è¿›

### 1. æ¨¡å—åŒ–è®¾è®¡
- **å…±äº«æ ¸å¿ƒåº“**: `src/` ç›®å½•åŒ…å«å¯å¤ç”¨çš„æ ¸å¿ƒåŠŸèƒ½
- **åŠŸèƒ½åˆ†ç¦»**: CLIå’ŒWebåº”ç”¨åˆ†åˆ«ç‹¬ç«‹ï¼Œä½†å…±äº«åº•å±‚é€»è¾‘
- **æ¸…æ™°æ¥å£**: ç»Ÿä¸€çš„APIè®¾è®¡å’Œæ¥å£è§„èŒƒ

### 2. é…ç½®ç®¡ç†
- **ç¯å¢ƒåˆ†ç¦»**: å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒé…ç½®åˆ†ç¦»
- **æ¨¡å‹é…ç½®**: ç‹¬ç«‹çš„Whisperæ¨¡å‹é…ç½®æ–‡ä»¶
- **ç»Ÿä¸€æ¥å£**: `src/utils/config.py` æä¾›ç»Ÿä¸€é…ç½®è®¿é—®

### 3. ä¾èµ–ç®¡ç†
- **åˆ†å±‚è®¾è®¡**: base â†’ cli/web â†’ dev çš„ä¾èµ–å±‚æ¬¡
- **æŒ‰éœ€å®‰è£…**: æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„ä¾èµ–é›†åˆ
- **ç‰ˆæœ¬æ§åˆ¶**: æ˜ç¡®çš„ç‰ˆæœ¬çº¦æŸå’Œå…¼å®¹æ€§è¦æ±‚

### 4. å­˜å‚¨ä¼˜åŒ–
- **ç»Ÿä¸€å­˜å‚¨**: æ‰€æœ‰æ–‡ä»¶å­˜å‚¨åœ¨ `storage/` ç›®å½•ä¸‹
- **åˆ†ç±»ç®¡ç†**: éŸ³é¢‘ã€è§†é¢‘ã€ç»“æœã€ä¸´æ—¶æ–‡ä»¶åˆ†ç±»å­˜å‚¨
- **è·¯å¾„é…ç½®**: å¯é…ç½®çš„å­˜å‚¨è·¯å¾„

## ğŸ“ æ–‡ä»¶è¿ç§»è®°å½•

### ç§»åŠ¨çš„æ–‡ä»¶
```bash
# åŸå§‹è„šæœ¬ â†’ CLIå·¥å…·
Original_Code/main.py â†’ cli/download_audio.py
Original_Code/download_videos.py â†’ cli/download_video.py  
Original_Code/get_ref_from_dynamics.py â†’ cli/get_dynamics.py

# éƒ¨ç½²æ–‡ä»¶ â†’ éƒ¨ç½²ç›®å½•
Dockerfile â†’ deployment/docker/Dockerfile
docker-compose.yml â†’ deployment/docker/docker-compose.yml
deploy.sh â†’ deployment/scripts/deploy.sh
deploy.ps1 â†’ deployment/scripts/deploy.ps1
nginx/ â†’ deployment/docker/nginx/

# é…ç½®æ–‡ä»¶ â†’ é…ç½®ç›®å½•
environment*.yml â†’ config/environment/
bili2text*.yml â†’ config/environment/
env.example â†’ config/app/default.env

# å­˜å‚¨ç›®å½• â†’ ç»Ÿä¸€å­˜å‚¨
audio/ â†’ storage/audio/
video/ â†’ storage/video/
result/ â†’ storage/results/
temp/ â†’ storage/temp/

# æ•°æ®åº“æ–‡ä»¶ â†’ æ•°æ®åº“ç›®å½•
bili2text.db â†’ database/bili2text.db
```

### æ–°åˆ›å»ºçš„æ–‡ä»¶
```bash
# CLIå·¥å…·
cli/__init__.py
cli/main.py                    # ç»Ÿä¸€CLIå…¥å£

# æ ¸å¿ƒåº“
src/__init__.py
src/utils/__init__.py
src/utils/config.py            # é…ç½®ç®¡ç†

# é…ç½®æ–‡ä»¶
config/models/whisper_models.json

# ä¾èµ–ç®¡ç†
requirements/base.txt
requirements/web.txt
requirements/cli.txt
requirements/dev.txt

# é¡¹ç›®æ–‡æ¡£
CHANGELOG.md
CONTRIBUTING.md
docs/RESTRUCTURE_SUMMARY.md

# æ–°ç›®å½•ç»“æ„
src/{transcriber,downloader,models}/
tests/{unit,integration,fixtures}/
deployment/kubernetes/
logs/
```

## ğŸ”„ è¿ç§»æŒ‡å—

### å¯¹äºå¼€å‘è€…
1. **ç¯å¢ƒé‡æ–°æ­å»º**:
   ```bash
   # é€‰æ‹©åˆé€‚çš„ä¾èµ–å®‰è£…
   pip install -r requirements/dev.txt  # å¼€å‘ç¯å¢ƒ
   pip install -r requirements/web.txt  # Webåº”ç”¨
   pip install -r requirements/cli.txt  # CLIå·¥å…·
   ```

2. **é…ç½®æ–‡ä»¶æ›´æ–°**:
   ```bash
   # å¤åˆ¶é…ç½®æ¨¡æ¿
   cp config/app/default.env config/app/development.env
   # ç¼–è¾‘é…ç½®
   nano config/app/development.env
   ```

3. **Importè·¯å¾„æ›´æ–°**:
   ```python
   # æ—§çš„importæ–¹å¼
   from webapp.core.config import Config
   
   # æ–°çš„importæ–¹å¼  
   from src.utils.config import config
   ```

### å¯¹äºç”¨æˆ·
1. **CLIä½¿ç”¨æ–¹å¼**:
   ```bash
   # æ–°çš„CLIå…¥å£
   python -m cli.main audio --url "è§†é¢‘URL"
   python -m cli.main video --url "è§†é¢‘URL"
   ```

2. **Webåº”ç”¨å¯åŠ¨**:
   ```bash
   # å¯åŠ¨æ–¹å¼ä¸å˜
   python run.py --debug
   ```

## ğŸ‰ é‡æ„æ”¶ç›Š

### å¼€å‘æ•ˆç‡
- ğŸš€ **æ›´å¿«çš„å¼€å‘**: æ¸…æ™°çš„æ¨¡å—è¾¹ç•Œå’Œæ¥å£
- ğŸ”§ **æ›´å®¹æ˜“ç»´æŠ¤**: ä»£ç ç»„ç»‡è‰¯å¥½ï¼ŒèŒè´£åˆ†ç¦»
- ğŸ§ª **æ›´å¥½çš„æµ‹è¯•**: ç‹¬ç«‹çš„æµ‹è¯•ç›®å½•å’Œç»“æ„

### ç”¨æˆ·ä½“éªŒ
- ğŸ“¦ **çµæ´»éƒ¨ç½²**: æ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼
- âš™ï¸ **ç®€å•é…ç½®**: ç»Ÿä¸€çš„é…ç½®ç®¡ç†
- ğŸ¯ **æ˜ç¡®åŠŸèƒ½**: CLIå’ŒWebåº”ç”¨å„æœ‰ä¾§é‡

### é¡¹ç›®ç®¡ç†
- ğŸ“š **å®Œæ•´æ–‡æ¡£**: ä»å®‰è£…åˆ°å¼€å‘çš„å…¨é¢æ–‡æ¡£
- ğŸ”„ **è§„èŒƒæµç¨‹**: æ˜ç¡®çš„è´¡çŒ®æŒ‡å—å’Œå¼€å‘æµç¨‹
- ğŸ“ˆ **ç‰ˆæœ¬æ§åˆ¶**: æ¸…æ™°çš„ç‰ˆæœ¬è®°å½•å’Œå˜æ›´æ—¥å¿—

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡ (1-2ä¸ªæœˆ)
- å®Œå–„æµ‹è¯•è¦†ç›–ç‡
- ä¼˜åŒ–æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨
- å¢åŠ æ›´å¤šCLIå‘½ä»¤
- æ”¹è¿›é”™è¯¯å¤„ç†

### ä¸­æœŸç›®æ ‡ (3-6ä¸ªæœˆ)
- å®ç°å®æ—¶è½¬å½•åŠŸèƒ½
- æ·»åŠ å¤šè¯­è¨€ç•Œé¢æ”¯æŒ
- å¼€å‘æ’ä»¶ç³»ç»Ÿ
- æ”¯æŒäº‘ç«¯éƒ¨ç½²

### é•¿æœŸç›®æ ‡ (6ä¸ªæœˆ+)
- åˆ†å¸ƒå¼å¤„ç†æ”¯æŒ
- AIæ¨¡å‹ä¼˜åŒ–
- ä¼ä¸šçº§åŠŸèƒ½
- ç§»åŠ¨ç«¯åº”ç”¨

---

## ğŸ¤ å‚ä¸è´¡çŒ®

è¿™æ¬¡é‡æ„ä¸ºé¡¹ç›®æœªæ¥çš„å‘å±•å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºçš„å‚ä¸å’Œè´¡çŒ®ï¼š

- ğŸ› æŠ¥å‘Šé—®é¢˜å’Œå»ºè®®
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½æƒ³æ³•
- ğŸ”§ æäº¤ä»£ç æ”¹è¿›
- ğŸ“š å®Œå–„é¡¹ç›®æ–‡æ¡£

æ„Ÿè°¢æ‚¨å¯¹Bili2Texté¡¹ç›®çš„æ”¯æŒï¼ 