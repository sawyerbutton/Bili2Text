# Bili2Text Web 用户手册

## 📖 使用指南

欢迎使用Bili2Text Web版本！本手册将详细介绍如何使用Web界面进行视频转录操作。

## 🌐 访问应用

### 本地访问
- **开发环境**: http://localhost:8000
- **生产环境**: https://your-domain.com

### 系统要求
- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **网络**: 稳定的互联网连接
- **JavaScript**: 必须启用

## 🎯 主要功能

### 1. 视频转录
- 支持哔哩哔哩视频URL输入
- 多种Whisper模型选择
- 实时转录进度显示
- 自动文件下载

### 2. 任务管理
- 任务历史记录查看
- 任务状态实时更新
- 批量任务处理
- 任务取消和删除

### 3. 文件管理
- 转录结果下载
- 音频文件下载
- 文件格式选择
- 存储空间管理

## 🚀 快速开始

### 第一步：访问主页

打开浏览器，访问应用地址，您将看到如下界面：

```
┌─────────────────────────────────────────────────────────────┐
│                    Bili2Text Web 转录工具                    │
├─────────────────────────────────────────────────────────────┤
│  📹 视频URL输入                                              │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │ 请输入哔哩哔哩视频链接...                                │ │
│  └─────────────────────────────────────────────────────────┘ │
│                                                             │
│  🎙️ 模型选择                                                │
│  ○ tiny (快速)  ○ base  ● medium (推荐)  ○ large-v3 (精确) │
│                                                             │
│  ⚙️ 高级选项                                                │
│  □ 启用代理  □ 保留音频文件  □ 自定义输出格式                │
│                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │  开始转录   │  │  任务历史   │  │  系统状态   │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
└─────────────────────────────────────────────────────────────┘
```

### 第二步：输入视频URL

1. 在"视频URL输入"框中粘贴哔哩哔哩视频链接
2. 支持的URL格式：
   - `https://www.bilibili.com/video/BV1234567890`
   - `https://b23.tv/abc123`
   - `BV1234567890` (仅BV号)

### 第三步：选择转录模型

根据您的需求选择合适的模型：

| 模型 | 速度 | 精度 | 内存需求 | 推荐场景 |
|------|------|------|----------|----------|
| **tiny** | ⚡⚡⚡⚡⚡ | ⭐⭐ | ~1GB | 快速测试 |
| **base** | ⚡⚡⚡⚡ | ⭐⭐⭐ | ~1GB | 日常使用 |
| **medium** | ⚡⚡⚡ | ⭐⭐⭐⭐ | ~5GB | **推荐选择** |
| **large-v3** | ⚡ | ⭐⭐⭐⭐⭐ | ~10GB | 最高质量 |

### 第四步：配置高级选项（可选）

- **启用代理**: 如果需要通过代理访问B站
- **保留音频文件**: 转录完成后保留原始音频
- **自定义输出格式**: 选择输出文件格式（txt/md/json）

### 第五步：开始转录

点击"开始转录"按钮，系统将：
1. 验证视频URL有效性
2. 创建转录任务
3. 开始下载视频音频
4. 执行语音转录
5. 生成结果文件

## 📊 任务状态监控

### 实时进度显示

转录开始后，页面会显示实时进度信息：

```
┌─────────────────────────────────────────────────────────────┐
│  📊 当前任务状态                                             │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │ 任务ID: task_20240115_143022_abc123                    │ │
│  │ 视频标题: 【参考信息第123期】某某视频标题                │ │
│  │ 状态: 转录中... ████████████░░░░ 75%                   │ │
│  │ 已用时间: 3分15秒                                       │ │
│  │ 预计剩余: 1分05秒                                       │ │
│  │ 当前阶段: 正在处理音频片段 15/20                        │ │
│  └─────────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌─────────────┐  ┌─────────────┐                          │
│  │  取消任务   │  │  查看详情   │                          │
│  └─────────────┘  └─────────────┘                          │
└─────────────────────────────────────────────────────────────┘
```

### 任务状态说明

- **等待中** (pending): 任务已创建，等待处理
- **下载中** (downloading): 正在下载视频音频
- **转录中** (transcribing): 正在进行语音转录
- **已完成** (completed): 转录完成，可下载结果
- **失败** (failed): 任务执行失败
- **已取消** (cancelled): 用户主动取消

## 📥 结果下载

### 转录完成后

任务完成后，页面会显示下载选项：

```
┌─────────────────────────────────────────────────────────────┐
│  ✅ 转录完成！                                               │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │ 任务ID: task_20240115_143022_abc123                    │ │
│  │ 视频标题: 【参考信息第123期】某某视频标题                │ │
│  │ 转录时长: 5分30秒                                       │ │
│  │ 音频时长: 15分42秒                                      │ │
│  │ 文件大小: 2.3MB                                        │ │
│  │ 使用模型: medium                                       │ │
│  └─────────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │ 📥 下载文本 │  │ 🎵 下载音频 │  │ 🔍 查看内容 │          │
│  └─────────────┘  └─────────────┘  └─────────────┘          │
└─────────────────────────────────────────────────────────────┘
```

### 下载选项

1. **下载文本**: 下载转录结果文本文件
2. **下载音频**: 下载原始音频文件（如果启用了保留选项）
3. **查看内容**: 在线预览转录内容

## 📋 任务历史

### 访问历史记录

点击主页的"任务历史"按钮，查看所有历史任务：

```
┌─────────────────────────────────────────────────────────────┐
│  📋 任务历史记录                                             │
├─────────────────────────────────────────────────────────────┤
│  🔍 筛选: [全部▼] [今天▼] [成功▼]    🔄 刷新    📊 统计     │
├─────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────┐   │
│  │ ✅ 【参考信息第123期】某某视频标题                     │   │
│  │    BV15N4y1J7CA | 2024-01-15 14:30                   │   │
│  │    medium模型 | 3.2MB | 转录时长: 5分30秒              │   │
│  │    [📥 下载] [🔍 详情] [🗑️ 删除] [🔄 重新转录]        │   │
│  └───────────────────────────────────────────────────────┘   │
│  ┌───────────────────────────────────────────────────────┐   │
│  │ ⏳ 【参考信息第124期】正在处理中...                    │   │
│  │    BV1Fa4y1273F | 2024-01-15 14:25                   │   │
│  │    medium模型 | 进度: 45% | 预计剩余: 2分钟            │   │
│  │    [⏸️ 暂停] [❌ 取消] [🔍 详情]                      │   │
│  └───────────────────────────────────────────────────────┘   │
│  ┌───────────────────────────────────────────────────────┐   │
│  │ ❌ 【某个失败的视频】转录失败                          │   │
│  │    BV1234567890 | 2024-01-15 14:20                   │   │
│  │    错误: 视频下载失败 - 网络连接超时                   │   │
│  │    [🔄 重试] [🔍 详情] [🗑️ 删除]                      │   │
│  └───────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

### 筛选和搜索

- **状态筛选**: 全部/成功/失败/进行中
- **时间筛选**: 今天/本周/本月/自定义
- **关键词搜索**: 按视频标题或BV号搜索

### 批量操作

- **批量下载**: 选择多个已完成任务，批量下载结果
- **批量删除**: 清理不需要的历史记录
- **批量重试**: 重新处理失败的任务

## ⚙️ 高级功能

### 1. 自定义配置

#### 代理设置
如果需要通过代理访问B站：
1. 勾选"启用代理"选项
2. 在弹出的配置框中输入代理信息：
   - HTTP代理: `http://127.0.0.1:7890`
   - SOCKS5代理: `socks5://127.0.0.1:1080`

#### 输出格式
支持多种输出格式：
- **TXT**: 纯文本格式，兼容性最好
- **Markdown**: 包含格式化信息，适合文档
- **JSON**: 结构化数据，包含时间戳信息

#### 质量设置
- **音频质量**: 选择下载的音频质量
- **转录语言**: 指定转录语言（默认自动检测）
- **标点符号**: 启用/禁用自动标点符号

### 2. 批量处理

#### 批量URL输入
1. 点击"批量处理"按钮
2. 在文本框中输入多个URL，每行一个
3. 选择统一的转录设置
4. 点击"开始批量转录"

#### 批量监控
- 查看所有任务的整体进度
- 单独控制每个任务
- 批量下载完成的结果

### 3. API集成

#### 获取API密钥
1. 访问"设置"页面
2. 生成API密钥
3. 使用API密钥调用接口

#### API使用示例
```javascript
// 创建转录任务
fetch('/api/tasks/', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer YOUR_API_KEY'
    },
    body: JSON.stringify({
        url: 'https://www.bilibili.com/video/BV15N4y1J7CA',
        model_name: 'medium'
    })
})
.then(response => response.json())
.then(data => console.log(data));
```

## 🔧 故障排除

### 常见问题

#### 1. 视频无法下载
**症状**: 提示"视频下载失败"
**解决方案**:
- 检查视频URL是否正确
- 确认视频是否为公开状态
- 尝试启用代理设置
- 检查网络连接

#### 2. 转录速度很慢
**症状**: 转录进度长时间停滞
**解决方案**:
- 选择较小的模型（tiny/base）
- 检查系统资源使用情况
- 确认是否有其他任务在运行
- 联系管理员检查服务器状态

#### 3. 文件下载失败
**症状**: 点击下载按钮无响应
**解决方案**:
- 检查浏览器下载设置
- 清除浏览器缓存
- 尝试右键"另存为"
- 检查磁盘空间是否充足

#### 4. 页面加载缓慢
**症状**: 页面响应速度慢
**解决方案**:
- 刷新页面重试
- 清除浏览器缓存和Cookie
- 检查网络连接速度
- 尝试使用其他浏览器

### 错误代码说明

| 错误代码 | 含义 | 解决方案 |
|----------|------|----------|
| E001 | 无效的视频URL | 检查URL格式是否正确 |
| E002 | 视频不存在或已删除 | 确认视频状态 |
| E003 | 网络连接失败 | 检查网络设置 |
| E004 | 服务器繁忙 | 稍后重试 |
| E005 | 存储空间不足 | 联系管理员 |
| E006 | 模型加载失败 | 重启服务或联系技术支持 |

## 📱 移动端使用

### 响应式设计
Web应用支持移动设备访问，在手机和平板上也能正常使用。

### 移动端优化功能
- 触摸友好的界面设计
- 自适应屏幕尺寸
- 简化的操作流程
- 优化的文件下载体验

### 移动端限制
- 不支持批量操作
- 文件预览功能有限
- 建议使用WiFi网络

## 🔒 隐私和安全

### 数据保护
- 所有上传的视频URL仅用于转录处理
- 转录结果仅保存在服务器本地
- 不会收集用户个人信息
- 支持定期自动清理过期文件

### 安全措施
- HTTPS加密传输
- 文件访问权限控制
- 防止恶意URL攻击
- 定期安全更新

## 📞 技术支持

### 获取帮助
如果遇到问题，可以通过以下方式获取帮助：

1. **在线帮助**: 点击页面右下角的"帮助"按钮
2. **FAQ**: 查看常见问题解答
3. **GitHub Issues**: 提交技术问题
4. **邮件支持**: 发送详细问题描述

### 反馈建议
我们欢迎您的反馈和建议：
- 功能改进建议
- 界面优化建议
- 性能问题反馈
- 新功能需求

### 联系信息
- **项目主页**: https://github.com/ShadyLeaf/Bili2Text
- **问题反馈**: [GitHub Issues页面]
- **邮件联系**: [技术支持邮箱]
- **用户社区**: [讨论区链接]

---

## 📝 更新日志

### v2.0.0 (2024-01-15)
- 🎉 发布Web版本
- ✨ 新增实时进度显示
- ✨ 新增任务历史管理
- ✨ 新增批量处理功能
- 🔧 优化用户界面
- 🔧 提升转录性能

### v1.0.0 (2023-12-01)
- 🎉 发布命令行版本
- ✨ 支持B站视频转录
- ✨ 集成Whisper模型
- ✨ 支持多种输出格式

---

感谢您使用Bili2Text！如果这个工具对您有帮助，请给我们的项目点个星⭐