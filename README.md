# Bili2Text - å“”å“©å“”å“©è§†é¢‘è½¬å½•å·¥å…·

<div align="center">

![GitHub stars](https://img.shields.io/github/stars/sawyerbutton/Bili2Text?style=for-the-badge)
![GitHub forks](https://img.shields.io/github/forks/sawyerbutton/Bili2Text?style=for-the-badge)
![GitHub issues](https://img.shields.io/github/issues/sawyerbutton/Bili2Text?style=for-the-badge)
![License](https://img.shields.io/github/license/sawyerbutton/Bili2Text?style=for-the-badge)

**ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å“”å“©å“”å“©è§†é¢‘è½¬å½•å·¥å…·ï¼ŒåŸºäºOpenAI WhisperæŠ€æœ¯**

[ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [ğŸ“– ä½¿ç”¨æ–‡æ¡£](#-ä½¿ç”¨æŒ‡å—) â€¢ [ğŸ› ï¸ å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—) â€¢ [ğŸ“ é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„) â€¢ [ğŸ“š æ›´å¤šæ–‡æ¡£](docs/)

</div>

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ åŒé‡ä½¿ç”¨æ¨¡å¼
- ğŸ–¥ï¸ **Webåº”ç”¨** - ç°ä»£åŒ–çš„æµè§ˆå™¨ç•Œé¢ï¼Œé€‚åˆäº¤äº’å¼ä½¿ç”¨
- âŒ¨ï¸ **å‘½ä»¤è¡Œå·¥å…·** - å¼ºå¤§çš„CLIå·¥å…·ï¼Œé€‚åˆæ‰¹é‡å¤„ç†å’Œè‡ªåŠ¨åŒ–

### ğŸ¥ æ ¸å¿ƒåŠŸèƒ½
- ğŸ™ï¸ **æ™ºèƒ½è¯­éŸ³è¯†åˆ«** - åŸºäºOpenAI Whisperï¼Œæ”¯æŒå¤šç§æ¨¡å‹
- ğŸ“¹ **è§†é¢‘ä¸‹è½½** - æ”¯æŒBç«™è§†é¢‘æ‰¹é‡ä¸‹è½½ä¸ºMP4æ ¼å¼
- ğŸµ **éŸ³é¢‘æå–** - è‡ªåŠ¨æå–è§†é¢‘éŸ³é¢‘å¹¶è½¬å½•ä¸ºæ–‡å­—
- ğŸ“ **å¤šæ ¼å¼è¾“å‡º** - TXTã€Markdownã€JSONç­‰å¤šç§æ ¼å¼
- ğŸ”„ **å®æ—¶è¿›åº¦** - WebSocketå®æ—¶çŠ¶æ€æ›´æ–°å’ŒCLIè¿›åº¦æ¡
- ğŸ“Š **ä»»åŠ¡ç®¡ç†** - å®Œæ•´çš„ä»»åŠ¡å†å²å’Œæ–‡ä»¶ç®¡ç†
- ğŸ¬ **æ‰¹é‡ä¸‹è½½UPä¸»è§†é¢‘** - æ”¯æŒä¸€é”®ä¸‹è½½UPä¸»æ‰€æœ‰æŠ•ç¨¿è§†é¢‘

### ğŸŒ Webç•Œé¢ç‰¹æ€§
- ğŸ¨ **ç°ä»£åŒ–UI** - åŸºäºBootstrap 5çš„å“åº”å¼è®¾è®¡
- ğŸ“± **ç§»åŠ¨ç«¯æ”¯æŒ** - å®Œæ•´çš„ç§»åŠ¨è®¾å¤‡é€‚é…
- ğŸŒ™ **æ·±è‰²æ¨¡å¼** - æŠ¤çœ¼çš„æ·±è‰²ä¸»é¢˜
- âš¡ **å®æ—¶é€šä¿¡** - WebSocketåŒå‘é€šä¿¡
- ğŸ“ˆ **æ•°æ®å¯è§†åŒ–** - Chart.jsæ€§èƒ½å›¾è¡¨

## ğŸ†• æœ€æ–°åŠŸèƒ½ (2025-09-17æ›´æ–°)

### ğŸ“„ æ™ºèƒ½æ–‡æ¡£ä¼˜åŒ–ç³»ç»Ÿ
- ğŸ¤– **Gemini 2.5 Flashé›†æˆ** - ä½¿ç”¨Googleæœ€æ–°AIæ¨¡å‹ä¼˜åŒ–æ–‡æ¡£ï¼ˆ100ä¸‡tokensä¸Šä¸‹æ–‡ï¼‰
- ğŸ”§ **ä¸“ä¸šè½¬å½•ä¼˜åŒ–** - ä¸“é—¨é’ˆå¯¹è§†é¢‘é€å­—ç¨¿çš„ä¼˜åŒ–æç¤ºè¯æ¨¡æ¿
- ğŸ“Š **æ‰¹é‡å¤„ç†** - æ”¯æŒæ‰¹é‡ä¼˜åŒ–TXTå’ŒMarkdownæ–‡æ¡£
- ğŸ”„ **ASRçº é”™** - 80+æŠ€æœ¯æœ¯è¯­å’ŒAIæ¨¡å‹åç§°è‡ªåŠ¨çº æ­£
- ğŸ“ **æ ¼å¼ç¾åŒ–** - æ™ºèƒ½æ®µè½åˆ†å‰²ã€ç« èŠ‚ç»“æ„åŒ–ã€å»é™¤å£è¯­åŒ–å†…å®¹
- âš¡ **TXTè½¬Markdown** - æ”¯æŒASRè¾“å‡ºçš„TXTæ–‡ä»¶ç›´æ¥è½¬æ¢ä¸ºä¸“ä¸šMarkdownæ–‡æ¡£

#### ä½¿ç”¨ç¤ºä¾‹
```bash
# è®¾ç½®APIå¯†é’¥
export GEMINI_API_KEY="your-api-key"

# æ‰¹é‡ä¼˜åŒ–TXTæ–‡ä»¶åˆ°Markdown
python batch_optimize_txt_to_markdown.py --input storage/results/gpu_transcripts --output storage/results/professional_markdown

# ä¼˜åŒ–ç°æœ‰Markdownæ–‡ä»¶
python batch_optimize_mark_transcripts.py

# ä½¿ç”¨æ ¸å¿ƒä¼˜åŒ–å™¨
from scripts.optimize.professional_gemini_optimizer import ProfessionalGeminiOptimizer, ProfessionalOptConfig

config = ProfessionalOptConfig(api_key="your-key", temperature=0.0)
optimizer = ProfessionalGeminiOptimizer(config)
optimizer.optimize_file("input.txt", "output.md")
```

è¯¦è§ [æ–‡æ¡£ä¼˜åŒ–æŒ‡å—](docs/gemini_optimizer_usage.md)

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### ğŸ–¥ï¸ æœ€ä½é…ç½®
- **CPU**: 4æ ¸å¿ƒ 2.0GHz+
- **å†…å­˜**: 8GB RAM (æ¨è16GB+)
- **å­˜å‚¨**: 50GB+ å¯ç”¨ç©ºé—´
- **Python**: 3.9+ (æ¨è3.11)
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.15+, Ubuntu 20.04+

### ğŸš€ æ¨èé…ç½®
- **CPU**: 8æ ¸å¿ƒ 3.0GHz+ (æ”¯æŒAVXæŒ‡ä»¤é›†)
- **å†…å­˜**: 32GB RAM
- **GPU**: NVIDIA RTX 3060+ (8GB+ VRAM, å¯é€‰)
- **å­˜å‚¨**: 200GB+ NVMe SSD

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨Condaç¯å¢ƒï¼ˆæ¨èCLIå·¥å…·ï¼‰

#### 1. å®‰è£…Miniconda
```bash
# Linux/macOS
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh -b -p $HOME/miniconda3
export PATH="$HOME/miniconda3/bin:$PATH"

# Windows
# ä¸‹è½½å¹¶å®‰è£… Miniconda3-latest-Windows-x86_64.exe
```

#### 2. åˆ›å»ºå¹¶æ¿€æ´»ç¯å¢ƒ
```bash
# åˆ›å»ºä¸“ç”¨ç¯å¢ƒ
conda create -n bili2text-cli python=3.11 -y
conda activate bili2text-cli

# å®‰è£…ä¾èµ–åŒ…
pip install bilibili-api-python bilix httpx beautifulsoup4 lxml
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu
pip install openai-whisper
```

#### 3. è®¾ç½®å¿«æ·å‘½ä»¤
```bash
# Linux/macOS
chmod +x bili2text.sh
./bili2text.sh --help

# Windows
# ä½¿ç”¨ python -m cli.main æ›¿ä»£
```

### æ–¹æ³•äºŒï¼šDocker éƒ¨ç½²ï¼ˆæ¨èWebåº”ç”¨ï¼‰

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/sawyerbutton/Bili2Text.git
cd Bili2Text

# ä½¿ç”¨Docker Composeä¸€é”®éƒ¨ç½²
docker-compose up -d

# è®¿é—®Webç•Œé¢
open http://localhost
```

### æ–¹æ³•ä¸‰ï¼šæºç å®‰è£…

#### 1. ç¯å¢ƒå‡†å¤‡
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/sawyerbutton/Bili2Text.git
cd Bili2Text

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3.11 -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ– venv\Scripts\activate  # Windows
```

#### 2. å®‰è£…ä¾èµ–
```bash
# é€‰æ‹©å®‰è£…æ¨¡å¼
# Webåº”ç”¨æ¨¡å¼
pip install -r requirements/web.txt

# CLIå·¥å…·æ¨¡å¼  
pip install -r requirements/cli.txt

# å¼€å‘æ¨¡å¼
pip install -r requirements/dev.txt
```

#### 3. é…ç½®ç¯å¢ƒ
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp config/app/default.env config/app/development.env

# ç¼–è¾‘é…ç½®ï¼ˆå¯é€‰ï¼‰
nano config/app/development.env
```

#### 4. å¯åŠ¨æœåŠ¡

**Webåº”ç”¨æ¨¡å¼ï¼š**
```bash
# å¼€å‘æ¨¡å¼
python run.py --debug

# ç”Ÿäº§æ¨¡å¼
python run.py --production --host 0.0.0.0 --port 8000
```

**CLIå·¥å…·æ¨¡å¼ï¼š**
```bash
# æŸ¥çœ‹å¸®åŠ©
python -m cli.main --help

# ä¸‹è½½å¹¶è½¬å½•éŸ³é¢‘
python -m cli.main audio --url "https://www.bilibili.com/video/BV1234567890"

# ä¸‹è½½è§†é¢‘æ–‡ä»¶
python -m cli.main video --url "https://www.bilibili.com/video/BV1234567890"
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ğŸŒ Webç•Œé¢ä½¿ç”¨

1. **è®¿é—®åº”ç”¨**: æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5000`
2. **åˆ›å»ºä»»åŠ¡**: è¾“å…¥Bç«™è§†é¢‘é“¾æ¥ï¼Œé€‰æ‹©Whisperæ¨¡å‹
3. **ç›‘æ§è¿›åº¦**: å®æ—¶æŸ¥çœ‹ä¸‹è½½å’Œè½¬å½•è¿›åº¦
4. **æŸ¥çœ‹ç»“æœ**: åœ¨ç»“æœé¡µé¢æŸ¥çœ‹å’Œä¸‹è½½è½¬å½•æ–‡ä»¶
5. **å†å²ç®¡ç†**: æŸ¥çœ‹æ‰€æœ‰å†å²ä»»åŠ¡å’Œæ–‡ä»¶

### âŒ¨ï¸ CLIå·¥å…·ä½¿ç”¨

#### å¿«é€Ÿå¼€å§‹
```bash
# ä½¿ç”¨condaç¯å¢ƒ
conda activate bili2text-cli

# æˆ–ä½¿ç”¨ä¾¿æ·è„šæœ¬ï¼ˆLinux/macOSï¼‰
./bili2text.sh --help
```

#### æ ¸å¿ƒå‘½ä»¤

##### 1. è·å–UPä¸»åŠ¨æ€è§†é¢‘
```bash
# è·å–æŒ‡å®šUPä¸»çš„æœ€æ–°åŠ¨æ€
./bili2text.sh dynamics --user "è€å¸ˆå¥½æˆ‘å«ä½•åŒå­¦" --count 5

# è¾“å‡ºç¤ºä¾‹ï¼š
# âœ… æˆåŠŸè·å– 5 ä¸ªåŠ¨æ€è§†é¢‘:
# 1. BV1JDMQzUEwy - ã€ä½•åŒå­¦ã€‘ä¸ºäº†ä¸ç”¨å€’åƒåœ¾ï¼Œæˆ‘ä»¬åšäº†è¿™ä¸ª...
# 2. BV1iZ42187bG - ã€ä½•åŒå­¦ã€‘æˆ‘æ‰¾åˆ°äº†æˆ‘æœ€å–œæ¬¢çš„æ•°ç äº§å“...
```

##### 2. ä¸‹è½½éŸ³é¢‘å¹¶è½¬å½•
```bash
# åŸºæœ¬ç”¨æ³•
./bili2text.sh audio --url "https://www.bilibili.com/video/BV1JDMQzUEwy"

# æŒ‡å®šæ¨¡å‹
./bili2text.sh audio --url "è§†é¢‘URL" --model base --output-dir ./results

# è¾“å‡ºç¤ºä¾‹ï¼š
# ğŸµ æ­£åœ¨ä¸‹è½½éŸ³é¢‘...
# âœ… éŸ³é¢‘ä¸‹è½½å®Œæˆ
# ğŸ”„ æ­£åœ¨åŠ è½½Whisperæ¨¡å‹ (base)...
# ğŸ™ï¸ æ­£åœ¨è½¬å½•éŸ³é¢‘...
# âœ… è½¬å½•å®Œæˆï¼ç»“æœå·²ä¿å­˜åˆ°: ./results/è§†é¢‘æ ‡é¢˜_è½¬å½•ç»“æœ.txt
```

##### 3. ä¸‹è½½è§†é¢‘æ–‡ä»¶
```bash
# ä¸‹è½½å•ä¸ªè§†é¢‘
./bili2text.sh video --url "https://www.bilibili.com/video/BV1JDMQzUEwy"

# æŒ‡å®šè¾“å‡ºç›®å½•
./bili2text.sh video --url "è§†é¢‘URL" --output-dir ./downloads
```

##### 4. æ‰¹é‡ä¸‹è½½UPä¸»è§†é¢‘ï¼ˆæ–°åŠŸèƒ½ï¼‰
```bash
# é€šè¿‡UIDä¸‹è½½æ‰€æœ‰è§†é¢‘
./bili2text.sh user-videos --uid 3546737620814672

# é€šè¿‡ç”¨æˆ·åä¸‹è½½
./bili2text.sh user-videos --user "æ¢µå…¬å­Gameå­¦"

# ä»…ä¸‹è½½éŸ³é¢‘æ–‡ä»¶
./bili2text.sh user-videos --uid 123456 --audio-only

# æŒ‡å®šè¾“å‡ºç›®å½•
./bili2text.sh user-videos --user "UPä¸»åç§°" --output ./my_videos

# ä½¿ç”¨ä»£ç†ä¸‹è½½
./bili2text.sh user-videos --uid 123456 --proxy --proxy-url http://127.0.0.1:7890

# è¾“å‡ºç¤ºä¾‹ï¼š
# âœ… UPä¸»: æ¢µå…¬å­Gameå­¦ (UID: 3546737620814672)
# ğŸ“Š å…±è·å– 48 ä¸ªæŠ•ç¨¿è§†é¢‘
# ğŸ“¥ ä¸‹è½½è¿›åº¦: 1/48
# âœ… ä¸‹è½½å®Œæˆç»Ÿè®¡:
#   æ€»è®¡: 48 ä¸ªè§†é¢‘
#   æˆåŠŸ: 45 ä¸ª
#   è·³è¿‡: 3 ä¸ªï¼ˆå·²å­˜åœ¨ï¼‰
```

##### 5. è½¬å½•æœ¬åœ°è§†é¢‘
```bash
# è½¬å½•å·²ä¸‹è½½çš„è§†é¢‘æ–‡ä»¶
./bili2text.sh transcribe --input-dir ./storage/video --output-dir ./storage/results

# ä½¿ç”¨æŒ‡å®šæ¨¡å‹
./bili2text.sh transcribe --input-dir ./videos --model medium
```

#### Whisperæ¨¡å‹é€‰æ‹©

| æ¨¡å‹ | å¤§å° | é€Ÿåº¦ | å‡†ç¡®åº¦ | æ¨èåœºæ™¯ |
|------|------|------|---------|----------|
| **tiny** | 39MB | æœ€å¿« | â˜…â˜…â˜†â˜†â˜† | å¿«é€Ÿæµ‹è¯•ã€è‹±æ–‡å†…å®¹ |
| **base** | 74MB | å¿«é€Ÿ | â˜…â˜…â˜…â˜†â˜† | æ—¥å¸¸ä½¿ç”¨æ¨è â­ |
| **medium** | 769MB | ä¸­ç­‰ | â˜…â˜…â˜…â˜…â˜† | éœ€è¦é«˜è´¨é‡è½¬å½• |
| **large-v3** | 1550MB | æ…¢ | â˜…â˜…â˜…â˜…â˜… | ä¸“ä¸šç”¨é€”ã€æœ€é«˜ç²¾åº¦ |

#### å®é™…æ€§èƒ½å‚è€ƒ
åŸºäº5åˆ†é’Ÿä¸­æ–‡è§†é¢‘æµ‹è¯•ï¼ˆCPUæ¨¡å¼ï¼‰ï¼š
- **éŸ³é¢‘ä¸‹è½½**: çº¦10ç§’
- **æ¨¡å‹åŠ è½½**: baseæ¨¡å‹çº¦90ç§’ï¼ˆé¦–æ¬¡ï¼‰
- **è½¬å½•å¤„ç†**: baseæ¨¡å‹çº¦50ç§’
- **æ€»è€—æ—¶**: çº¦2.5åˆ†é’Ÿ

#### é«˜çº§ç”¨æ³•

##### GPUæ‰¹é‡è½¬å†™ï¼ˆæ–°åŠŸèƒ½ï¼‰
```bash
# ä¸€é”®è½¬å†™æ‰€æœ‰å·²ä¸‹è½½çš„è§†é¢‘ï¼ˆä½¿ç”¨GPUåŠ é€Ÿï¼‰
./transcribe_all.sh

# æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œå¦‚æœä¸­æ–­å¯ä»¥ç›´æ¥é‡æ–°è¿è¡Œ
# ç»“æœä¿å­˜åœ¨: storage/results/gpu_transcripts/
```

##### æ‰¹é‡å¤„ç†
```bash
# æ‰¹é‡ä¸‹è½½UPä¸»æ‰€æœ‰è§†é¢‘çš„éŸ³é¢‘å¹¶è½¬å½•
./bili2text.sh dynamics --user "UPä¸»åç§°" --count 20 > video_list.txt
# ç„¶åä½¿ç”¨è„šæœ¬æ‰¹é‡å¤„ç†...
```

##### è‡ªå®šä¹‰å·¥ä½œæµ
```bash
# 1. å…ˆä¸‹è½½è§†é¢‘
./bili2text.sh video --url "URL" --output-dir ./raw_videos

# 2. æ‰¹é‡è½¬å½•
./bili2text.sh transcribe --input-dir ./raw_videos --output-dir ./transcripts --model medium

# 3. æŸ¥çœ‹ç»“æœ
ls -la ./transcripts/
```

#### å¸¸è§é—®é¢˜

**Q: é¦–æ¬¡è¿è¡Œå¾ˆæ…¢ï¼Ÿ**
A: é¦–æ¬¡ä½¿ç”¨éœ€è¦ä¸‹è½½Whisperæ¨¡å‹ï¼Œæ ¹æ®ç½‘ç»œæƒ…å†µå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿã€‚æ¨¡å‹ä¼šç¼“å­˜åœ¨æœ¬åœ°ï¼Œåç»­ä½¿ç”¨ä¼šå¾ˆå¿«ã€‚

**Q: å¦‚ä½•åŠ é€Ÿè½¬å½•ï¼Ÿ**
A: 
- ä½¿ç”¨è¾ƒå°çš„æ¨¡å‹ï¼ˆtinyæˆ–baseï¼‰
- å¦‚æœæœ‰NVIDIA GPUï¼Œå¯ä»¥å®‰è£…CUDAç‰ˆæœ¬çš„PyTorch
- è€ƒè™‘æ‰¹é‡å¤„ç†ä»¥å¤ç”¨æ¨¡å‹åŠ è½½æ—¶é—´

**Q: å†…å­˜ä¸è¶³ï¼Ÿ**
A: 
- ä½¿ç”¨æ›´å°çš„æ¨¡å‹
- å…³é—­å…¶ä»–åº”ç”¨ç¨‹åº
- è€ƒè™‘å¢åŠ ç³»ç»Ÿswapç©ºé—´

## ğŸ“ é¡¹ç›®ç»“æ„

```
Bili2Text/
â”œâ”€â”€ ğŸ”§ bin/                       # å¯æ‰§è¡Œè„šæœ¬
â”‚   â””â”€â”€ bili2text.sh              # CLIå¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ¯ cli/                       # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”œâ”€â”€ main.py                   # CLIä¸»å…¥å£
â”‚   â”œâ”€â”€ download_audio_new.py     # éŸ³é¢‘ä¸‹è½½è½¬å½•
â”‚   â”œâ”€â”€ download_video.py         # è§†é¢‘ä¸‹è½½
â”‚   â”œâ”€â”€ get_dynamics_new.py       # åŠ¨æ€è·å–
â”‚   â”œâ”€â”€ data/                     # CLIæ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ transcribe_videos.py      # æœ¬åœ°è§†é¢‘è½¬å½•
â”œâ”€â”€ ğŸ“± webapp/                     # Webåº”ç”¨
â”‚   â”œâ”€â”€ api/                      # RESTful API
â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ static/                   # å‰ç«¯èµ„æº
â”‚   â””â”€â”€ app.py                    # Flaskåº”ç”¨å…¥å£
â”œâ”€â”€ ğŸ§  src/                        # å…±äº«æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ transcriber/              # è½¬å½•å¼•æ“
â”‚   â”œâ”€â”€ downloader/               # ä¸‹è½½å¼•æ“
â”‚   â”œâ”€â”€ utils/                    # å·¥å…·ç±»
â”‚   â””â”€â”€ models/                   # æ•°æ®æ¨¡å‹
â”œâ”€â”€ ğŸ“‚ storage/                    # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ audio/                    # éŸ³é¢‘æ–‡ä»¶
â”‚   â”œâ”€â”€ video/                    # è§†é¢‘æ–‡ä»¶
â”‚   â”œâ”€â”€ results/                  # è½¬å½•ç»“æœ
â”‚   â”‚   â”œâ”€â”€ gpu_transcripts/      # GPUæ‰¹é‡è½¬å†™ç»“æœ
â”‚   â”‚   â”œâ”€â”€ professional_markdown/# Geminiä¼˜åŒ–åçš„æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ mark_transcripts_professional/ # ä¼˜åŒ–åçš„è½¬å½•æ–‡æ¡£
â”‚   â”‚   â””â”€â”€ gemini_optimized/     # Geminiä¼˜åŒ–æ–‡æ¡£
â”‚   â””â”€â”€ temp/                     # ä¸´æ—¶æ–‡ä»¶
â”œâ”€â”€ ğŸ”¨ scripts/                    # å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ transcribe/               # è½¬å†™è„šæœ¬
â”‚   â”œâ”€â”€ optimize/                 # æ–‡æ¡£ä¼˜åŒ–è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ professional_gemini_optimizer.py # æ ¸å¿ƒä¼˜åŒ–å¼•æ“
â”‚   â”‚   â””â”€â”€ gemini_document_optimizer.py     # Geminiä¼˜åŒ–å™¨
â”‚   â”œâ”€â”€ deprecated/               # å·²å¼ƒç”¨çš„è„šæœ¬
â”‚   â”œâ”€â”€ setup/                    # è®¾ç½®è„šæœ¬
â”‚   â””â”€â”€ test/                     # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ ğŸ³ deployment/                 # éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ docker/                   # Dockeré…ç½®
â”‚   â”œâ”€â”€ scripts/                  # éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ kubernetes/               # K8sé…ç½®
â”œâ”€â”€ ğŸ“‹ config/                     # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ environment/              # ç¯å¢ƒä¾èµ–
â”‚   â”œâ”€â”€ app/                      # åº”ç”¨é…ç½®
â”‚   â””â”€â”€ models/                   # æ¨¡å‹é…ç½®
â”œâ”€â”€ ğŸ§ª tests/                      # æµ‹è¯•ä»£ç 
â”œâ”€â”€ ğŸ“š docs/                       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ’½ database/                   # æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ ğŸ“Š logs/                       # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ requirements/                  # ä¾èµ–ç®¡ç†
    â”œâ”€â”€ base.txt                  # åŸºç¡€ä¾èµ–
    â”œâ”€â”€ web.txt                   # Webä¾èµ–
    â”œâ”€â”€ cli.txt                   # CLIä¾èµ–
    â””â”€â”€ dev.txt                   # å¼€å‘ä¾èµ–
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒæ­å»º
```bash
# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements/dev.txt

# å®‰è£…pre-commité’©å­
pre-commit install

# è¿è¡Œæµ‹è¯•
pytest tests/

# ä»£ç æ ¼å¼åŒ–
black src/ cli/ webapp/
isort src/ cli/ webapp/
```

### é¡¹ç›®æ¶æ„
- **æ¨¡å—åŒ–è®¾è®¡**: CLIå·¥å…·å’ŒWebåº”ç”¨å…±äº«æ ¸å¿ƒåº“
- **é…ç½®ç®¡ç†**: ç»Ÿä¸€çš„é…ç½®ç³»ç»Ÿï¼Œæ”¯æŒå¤šç¯å¢ƒ
- **å¼‚æ­¥å¤„ç†**: æ”¯æŒå¹¶å‘ä¸‹è½½å’Œè½¬å½•
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `src/` ä¸­å®ç°æ ¸å¿ƒé€»è¾‘
2. åœ¨ `cli/` ä¸­æ·»åŠ å‘½ä»¤è¡Œæ¥å£
3. åœ¨ `webapp/api/` ä¸­æ·»åŠ Web API
4. ç¼–å†™æµ‹è¯•ç”¨ä¾‹
5. æ›´æ–°æ–‡æ¡£

### æ–‡æ¡£ä¼˜åŒ–åŠŸèƒ½ï¼ˆæ–°å¢ï¼‰
ä½¿ç”¨Google Gemini 2.5 Flashä¼˜åŒ–è½¬å½•åçš„æ–‡æ¡£ï¼š

```bash
# è®¾ç½®APIå¯†é’¥
export GEMINI_API_KEY="your-api-key"

# ä¼˜åŒ–å•ä¸ªæ–‡æ¡£
python optimize_document_gemini25.py

# æ‰¹é‡ä¼˜åŒ–ï¼ˆæ¨èï¼‰
python serial_batch_optimize.py

# ä½¿ç”¨Shellè„šæœ¬
./optimize_with_gemini.sh -i input.md -o output.md
```

è¯¦ç»†ä½¿ç”¨è¯´æ˜è§ [Geminiä¼˜åŒ–å™¨æ–‡æ¡£](docs/gemini_optimizer_usage.md)

## ğŸ“„ APIæ–‡æ¡£

### RESTful API

```bash
# åˆ›å»ºè½¬å½•ä»»åŠ¡
POST /api/tasks
{
    "url": "https://www.bilibili.com/video/BV1234567890",
    "model": "medium"
}

# æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
GET /api/tasks/{task_id}

# è·å–è½¬å½•ç»“æœ
GET /api/tasks/{task_id}/result

# ä¸‹è½½ç»“æœæ–‡ä»¶
GET /api/tasks/{task_id}/download
```

### WebSocketäº‹ä»¶

```javascript
// è¿æ¥WebSocket
const socket = io('/tasks');

// ç›‘å¬ä»»åŠ¡è¿›åº¦
socket.on('task_progress', (data) => {
    console.log('è¿›åº¦:', data.progress);
});

// ç›‘å¬ä»»åŠ¡å®Œæˆ
socket.on('task_completed', (data) => {
    console.log('ä»»åŠ¡å®Œæˆ:', data.result);
});
```

## ğŸ”§ é…ç½®è¯´æ˜

### åº”ç”¨é…ç½®
```bash
# config/app/development.env
WHISPER_MODEL=medium
STORAGE_PATH=./storage
MAX_CONCURRENT_TASKS=3
ENABLE_GPU=true
```

### æ¨¡å‹é…ç½®
```json
// config/models/whisper_models.json
{
    "models": {
        "medium": {
            "size": "769 MB",
            "multilingual": true,
            "recommended": true
        }
    },
    "default_model": "medium",
    "cache_dir": "./.cache/whisper"
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“œ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-XX)
- âœ¨ é‡æ„é¡¹ç›®ç»“æ„ï¼Œåˆ†ç¦»CLIå’ŒWebåº”ç”¨
- ğŸ”§ ç»Ÿä¸€é…ç½®ç®¡ç†ç³»ç»Ÿ
- ğŸ“¦ æ¨¡å—åŒ–ä¾èµ–ç®¡ç†
- ğŸ³ å®Œå–„Dockeréƒ¨ç½²æ”¯æŒ
- ğŸ“š å®Œæ•´çš„é¡¹ç›®æ–‡æ¡£

### v0.9.0 (2023-12-XX)
- ğŸ¯ æ·»åŠ CLIå·¥å…·æ”¯æŒ
- ğŸ“± ä¼˜åŒ–Webç•Œé¢ä½“éªŒ
- ğŸ”„ æ”¹è¿›ä»»åŠ¡ç®¡ç†ç³»ç»Ÿ

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

## ğŸ™ è‡´è°¢

- [OpenAI Whisper](https://github.com/openai/whisper) - è¯­éŸ³è¯†åˆ«å¼•æ“
- [bilix](https://github.com/HFrost0/bilix) - Bç«™è§†é¢‘ä¸‹è½½
- [Flask](https://flask.palletsprojects.com/) - Webæ¡†æ¶
- [Bootstrap](https://getbootstrap.com/) - UIæ¡†æ¶

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

[æŠ¥å‘Šé—®é¢˜](../../issues) â€¢ [åŠŸèƒ½è¯·æ±‚](../../issues) â€¢ [è®¨è®º](../../discussions)

</div>